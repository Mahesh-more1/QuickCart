import{g as d,s as f,u as q,p as g}from"./showToast-tmfkBn19.js";const S=()=>{let a=document.querySelector(".total-section .sub-total .sub-total-price"),e=document.querySelector(".total-section .total .final-total"),o=document.querySelector(".total-section .taxing .tax"),u=d().reduce((t,l)=>{let n=parseInt(l.productPrice)||0;return t+n},0),i=o.textContent.replace("₹","");a.textContent=`₹${u}`,e.textContent=`₹${u+Number(i)}`},C=(a,e,o,r)=>{const c=document.querySelector(`#card-${e}`),u=c.querySelector(".price"),i=c.querySelector(".productQuantity");let t=1,l=0,n=d(),m=n.find(s=>s.id===e);m?(t=m.productQuantity,l=m.productPrice):(l=r,r=r),a.target.id==="plus"&&(t<o?t++:t===o&&(t=o)),a.target.id==="minus"&&t>1&&t--,l=Number(r*t);let p={id:e,productQuantity:t,productPrice:l};p=n.map(s=>s.id===e?p:s),localStorage.setItem("cartDetails",JSON.stringify(p)),S(),u.textContent=`₹${l}`,i.textContent=t},x=(a,e)=>{let r=d().find(u=>u.id===a),c=1;return r&&(c=r.productQuantity,e=r.productPrice),{quantity:c,price:e}},P=(a,e)=>{let o=d();o=o.filter(c=>c.id!==e),localStorage.setItem("cartDetails",JSON.stringify(o));let r=document.querySelector(`#card-${e}`);r&&(r.remove(),f("delete",e)),q(o),S()},y=document.querySelector(".added-cart-section .product-card");let D=d(),L=g.filter(a=>D.some(e=>a.id===e.id));const b=()=>{L.forEach(a=>{const{id:e,category:o,name:r,image:c,price:u,stock:i}=a,t=document.importNode(y.content,!0),l=x(e,u);t.querySelector("#cardValue").setAttribute("id",`card-${e}`),t.querySelector(".lable").textContent=o,t.querySelector(".productName").textContent=r,t.querySelector(".productImage img").setAttribute("src",`../${c}`),t.querySelector(".price").textContent=l.price,t.querySelector(".productQuantity").textContent=l.quantity,t.querySelector(".remove-from-cart").addEventListener("click",n=>{P(n,e)}),t.querySelector(".increase-decrease").addEventListener("click",n=>{C(n,e,i,u)}),y.append(t)})};b();S();
